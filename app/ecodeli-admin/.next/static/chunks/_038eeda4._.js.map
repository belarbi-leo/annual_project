{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patat/Documents/ESGI/2024-2025/Projet%20Annuel/annual_project/app/ecodeli-admin/lib/config.ts"],"sourcesContent":["export const API_BASE_URL = \"http://localhost:8081\";\r\n\r\nexport const API_HEADERS = {\r\n  \"Content-Type\": \"application/json\",\r\n  Authorization: \"Basic \" + btoa(\"postgre:0705\"), // Remplace par tes identifiants\r\n};"],"names":[],"mappings":";;;;AAAO,MAAM,eAAe;AAErB,MAAM,cAAc;IACzB,gBAAgB;IAChB,eAAe,WAAW,KAAK;AACjC","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patat/Documents/ESGI/2024-2025/Projet%20Annuel/annual_project/app/ecodeli-admin/lib/users/fetchUsers.ts"],"sourcesContent":["import { API_BASE_URL, API_HEADERS } from \"@/lib/config\";\r\n\r\nexport async function fetchUsers(type: string | null) {\r\n  try {\r\n    const url = type ? `${API_BASE_URL}/users/read?type=${type}` : `${API_BASE_URL}/users/read`;\r\n    const response = await fetch(url, {\r\n      method: \"GET\",\r\n      headers: API_HEADERS,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Erreur lors de la récupération des utilisateurs\");\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe,WAAW,IAAmB;IAClD,IAAI;QACF,MAAM,MAAM,OAAO,GAAG,gHAAA,CAAA,eAAY,CAAC,iBAAiB,EAAE,MAAM,GAAG,GAAG,gHAAA,CAAA,eAAY,CAAC,WAAW,CAAC;QAC3F,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,QAAQ;YACR,SAAS,gHAAA,CAAA,cAAW;QACtB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,EAAE;IACX;AACF","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patat/Documents/ESGI/2024-2025/Projet%20Annuel/annual_project/app/ecodeli-admin/app/admin/users/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport { fetchUsers } from \"@/lib/users/fetchUsers\";\r\n\r\nconst userTypes = [\r\n  { label: \"Clients Particuliers\", value: \"clients_particuliers\" },\r\n  { label: \"Clients Professionnels\", value: \"clients_professionnels\" },\r\n  { label: \"Prestataires Particuliers\", value: \"prestataires_particuliers\" },\r\n  { label: \"Prestataires Professionnels\", value: \"prestataires_professionnels\" },\r\n  { label: \"Administrateurs\", value: \"admins\" },\r\n  { label: \"En attente de validation\", value: \"validation_required\" },\r\n];\r\n\r\nexport default function UsersManagementPage() {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const selectedType = searchParams.get(\"type\");\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetchUsers(selectedType).then((data) => {\r\n      setUsers(data);\r\n      setLoading(false);\r\n    });\r\n  }, [selectedType]);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Gestion des Utilisateurs</h2>\r\n      \r\n      {/* Boutons de sélection */}\r\n      <div className=\"mb-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full\">\r\n        {userTypes.map(({ label, value }) => (\r\n          <button\r\n            key={value}\r\n            onClick={() => router.push(`/admin/users?type=${value}`)}\r\n            className={`px-4 py-2 w-full rounded-md ${selectedType === value ? \"bg-blue-500 text-white\" : \"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600\"}`}\r\n          >\r\n            {label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Liste des utilisateurs */}\r\n      <div className=\"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md\">\r\n        {loading ? (\r\n          <p>Chargement...</p>\r\n        ) : users.length > 0 ? (\r\n          <ul>\r\n            {users.map((user: any) => (\r\n              <li key={user.id} className=\"py-2 border-b border-gray-200 dark:border-gray-700\">\r\n                {user.name} - {user.email}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p>Aucun utilisateur trouvé.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,YAAY;IAChB;QAAE,OAAO;QAAwB,OAAO;IAAuB;IAC/D;QAAE,OAAO;QAA0B,OAAO;IAAyB;IACnE;QAAE,OAAO;QAA6B,OAAO;IAA4B;IACzE;QAAE,OAAO;QAA+B,OAAO;IAA8B;IAC7E;QAAE,OAAO;QAAmB,OAAO;IAAS;IAC5C;QAAE,OAAO;QAA4B,OAAO;IAAsB;CACnE;AAEc,SAAS;;IACtB,MAAM,eAAe,CAAA,GAAA,oQAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,SAAS,CAAA,GAAA,oQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,eAAe,aAAa,GAAG,CAAC;IAEtC,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;yCAAE;YACR,WAAW;YACX,CAAA,GAAA,6HAAA,CAAA,aAAU,AAAD,EAAE,cAAc,IAAI;iDAAC,CAAC;oBAC7B,SAAS;oBACT,WAAW;gBACb;;QACF;wCAAG;QAAC;KAAa;IAEjB,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBAAG,WAAU;0BAA8B;;;;;;0BAG5C,4TAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,iBAC9B,4TAAC;wBAEC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,kBAAkB,EAAE,OAAO;wBACvD,WAAW,CAAC,4BAA4B,EAAE,iBAAiB,QAAQ,2BAA2B,uGAAuG;kCAEpM;uBAJI;;;;;;;;;;0BAUX,4TAAC;gBAAI,WAAU;0BACZ,wBACC,4TAAC;8BAAE;;;;;2BACD,MAAM,MAAM,GAAG,kBACjB,4TAAC;8BACE,MAAM,GAAG,CAAC,CAAC,qBACV,4TAAC;4BAAiB,WAAU;;gCACzB,KAAK,IAAI;gCAAC;gCAAI,KAAK,KAAK;;2BADlB,KAAK,EAAE;;;;;;;;;yCAMpB,4TAAC;8BAAE;;;;;;;;;;;;;;;;;AAKb;GAnDwB;;QACD,oQAAA,CAAA,kBAAe;QACrB,oQAAA,CAAA,YAAS;;;KAFF","debugId":null}}]
}